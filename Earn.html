<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catch the Coin</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #000;
      color: #0ff;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .container {
      background: #111;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 0 20px #0ff;
      max-width: 400px;
      width: 90%;
      text-align: center;
    }

    h1 {
      font-size: 24px;
      margin-bottom: 20px;
      text-shadow: 0 0 10px #0ff;
    }

    p {
      font-size: 16px;
      margin: 10px 0;
    }

    button {
      padding: 15px 30px;
      font-size: 18px;
      border: none;
      border-radius: 30px;
      background: linear-gradient(to right, #0ff, #00f);
      color: #fff;
      cursor: pointer;
      margin-top: 20px;
      box-shadow: 0 0 10px #0ff;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px #0ff;
    }

    #game-container {
      display: none;
      position: relative;
      width: 90%;
      height: 400px;
      margin-top: 20px;
      background: #111;
      border-radius: 20px;
      box-shadow: 0 0 20px #0ff;
      overflow: hidden;
    }

    .coin {
      position: absolute;
      width: 50px;
      cursor: pointer;
    }

    #score, #timer {
      font-size: 18px;
      margin: 10px 0;
      color: #fff;
      text-shadow: 0 0 5px #0ff;
    }

    .tasks {
      margin-top: 20px;
      text-align: center;
    }

    .task-button {
      display: inline-block;
      padding: 15px 30px;
      margin-top: 10px;
      font-size: 16px;
      text-decoration: none;
      background: #007bff;
      border-radius: 20px;
      color: #fff;
      box-shadow: 0 0 10px #007bff;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .task-button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px #007bff;
    }
  </style>
</head>
<body>
  <!-- Home Screen -->
  <div class="container" id="home">
    <h1>Catch the Coin!</h1>
    <p>Lifetime Score: <span id="lifetime-score">$CATCH 0</span></p>
    <button id="play-button">Play</button>
    <div class="tasks">
      <h3>Tasks</h3>
      <a href="https://x.com" class="task-button">ðŸ’Ž Make a TON Transaction</a>
    </div>
  </div>

  <!-- Game Screen -->
  <div id="game-container">
    <p id="timer">Time Left: 30s</p>
    <p id="score">Score: $CATCH 0</p>
  </div>

  <script>
    const lifetimeScoreKey = 'lifetimeScore';
    const playDuration = 30; // seconds
    const gameContainer = document.getElementById('game-container');
    const lifetimeScoreEl = document.getElementById('lifetime-score');
    const playButton = document.getElementById('play-button');
    const scoreEl = document.getElementById('score');
    const timerEl = document.getElementById('timer');
    let lifetimeScore = localStorage.getItem(lifetimeScoreKey) || 0;
    let score = 0;
    let timeLeft = playDuration;

    // Display lifetime score
    lifetimeScoreEl.textContent = `$CATCH ${lifetimeScore}`;

    // Start Game
    playButton.addEventListener('click', startGame);

    function startGame() {
      score = 0;
      timeLeft = playDuration;
      updateScore();
      timerEl.textContent = `Time Left: ${timeLeft}s`;
      gameContainer.style.display = 'block';
      document.getElementById('home').style.display = 'none';
      spawnCoins();
      startTimer();
    }

    // Spawn Coins
    function spawnCoins() {
      const coin = document.createElement('img');
      coin.src = 'coin.png'; // Replace with your local coin image
      coin.classList.add('coin');

      // Random position
      const x = Math.random() * (gameContainer.offsetWidth - 50);
      const y = Math.random() * (gameContainer.offsetHeight - 50);
      coin.style.left = `${x}px`;
      coin.style.top = `${y}px`;

      coin.addEventListener('click', () => {
        score++;
        updateScore();
        coin.remove();
        spawnCoins();
      });

      gameContainer.appendChild(coin);
      setTimeout(() => {
        if (coin.parentElement) {
          coin.remove();
          spawnCoins();
        }
      }, 3000);
    }

    // Update Score
    function updateScore() {
      scoreEl.textContent = `Score: $CATCH ${score}`;
    }

    // Timer
    function startTimer() {
      const timerInterval = setInterval(() => {
        timeLeft--;
        timerEl.textContent = `Time Left: ${timeLeft}s`;

        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          endGame();
        }
      }, 1000);
    }

    // End Game
    function endGame() {
      gameContainer.style.display = 'none';
      document.getElementById('home').style.display = 'block';
      lifetimeScore = parseInt(lifetimeScore) + score;
      localStorage.setItem(lifetimeScoreKey, lifetimeScore);
      lifetimeScoreEl.textContent = `$CATCH ${lifetimeScore}`;
      alert(`Game Over! You scored $CATCH ${score}.`);
    }
  </script>
</body>
</html>
